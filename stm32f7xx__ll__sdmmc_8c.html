<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GT RoboCup SSL: /home/developer/mtrain-firmware/external/STM32F7xx_HAL_Drivers/Src/stm32f7xx_ll_sdmmc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rj_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GT RoboCup SSL
   </div>
   <div id="projectbrief">mTrain device firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('stm32f7xx__ll__sdmmc_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">stm32f7xx_ll_sdmmc.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>SDMMC Low Layer HAL module driver.  
<a href="#details">More...</a></p>
<div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for stm32f7xx_ll_sdmmc.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32f7xx__ll__sdmmc_8c__incl.png" border="0" usemap="#_2home_2developer_2mtrain-firmware_2external_2_s_t_m32_f7xx___h_a_l___drivers_2_src_2stm32f7xx__ll__sdmmc_8c" alt=""/></div>
<map name="_2home_2developer_2mtrain-firmware_2external_2_s_t_m32_f7xx___h_a_l___drivers_2_src_2stm32f7xx__ll__sdmmc_8c" id="_2home_2developer_2mtrain-firmware_2external_2_s_t_m32_f7xx___h_a_l___drivers_2_src_2stm32f7xx__ll__sdmmc_8c">
</map>
</div>
</div><a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>SDMMC Low Layer HAL module driver. </p>
<dl class="section author"><dt>Author</dt><dd>MCD Application Team </dd></dl>
<dl class="section version"><dt>Version</dt><dd>V1.2.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>30-December-2016 This file provides firmware functions to manage the following functionalities of the SDMMC peripheral:<ul>
<li>Initialization/de-initialization functions</li>
<li>I/O operation functions</li>
<li>Peripheral Control functions</li>
<li>Peripheral State functions</li>
</ul>
</dd></dl>
<pre class="fragment">==============================================================================
                     ##### SDMMC peripheral features #####
==============================================================================        
  [..] The SD/SDMMC MMC card host interface (SDMMC) provides an interface between the APB2
       peripheral bus and MultiMedia cards (MMCs), SD memory cards, SDMMC cards and CE-ATA
       devices.
  
  [..] The SDMMC features include the following:
       (+) Full compliance with MultiMedia Card System Specification Version 4.2. Card support
           for three different databus modes: 1-bit (default), 4-bit and 8-bit
       (+) Full compatibility with previous versions of MultiMedia Cards (forward compatibility)
       (+) Full compliance with SD Memory Card Specifications Version 2.0
       (+) Full compliance with SD I/O Card Specification Version 2.0: card support for two
           different data bus modes: 1-bit (default) and 4-bit
       (+) Full support of the CE-ATA features (full compliance with CE-ATA digital protocol
           Rev1.1)
       (+) Data transfer up to 48 MHz for the 8 bit mode
       (+) Data and command output enable signals to control external bidirectional drivers.
               
 
                         ##### How to use this driver #####
==============================================================================
  [..]
    This driver is a considered as a driver of service for external devices drivers 
    that interfaces with the SDMMC peripheral.
    According to the device used (SD card/ MMC card / SDMMC card ...), a set of APIs 
    is used in the device's driver to perform SDMMC operations and functionalities.
 
    This driver is almost transparent for the final user, it is only used to implement other
    functionalities of the external device.
 
  [..]
    (+) The SDMMC clock (SDMMCCLK = 48 MHz) is coming from a specific output of PLL 
        (PLL48CLK). Before start working with SDMMC peripheral make sure that the
        PLL is well configured.
        The SDMMC peripheral uses two clock signals:
        (++) SDMMC adapter clock (SDMMCCLK = 48 MHz)
        (++) APB2 bus clock (PCLK2)
     
        -@@- PCLK2 and SDMMC_CK clock frequencies must respect the following condition:
             Frequency(PCLK2) &gt;= (3 / 8 x Frequency(SDMMC_CK))

    (+) Enable/Disable peripheral clock using RCC peripheral macros related to SDMMC
        peripheral.

    (+) Enable the Power ON State using the SDMMC_PowerState_ON(SDMMCx) 
        function and disable it using the function SDMMC_PowerState_OFF(SDMMCx).
              
    (+) Enable/Disable the clock using the __SDMMC_ENABLE()/__SDMMC_DISABLE() macros.

    (+) Enable/Disable the peripheral interrupts using the macros __SDMMC_ENABLE_IT(hSDMMC, IT) 
        and __SDMMC_DISABLE_IT(hSDMMC, IT) if you need to use interrupt mode. 

    (+) When using the DMA mode 
        (++) Configure the DMA in the MSP layer of the external device
        (++) Active the needed channel Request 
        (++) Enable the DMA using __SDMMC_DMA_ENABLE() macro or Disable it using the macro
             __SDMMC_DMA_DISABLE().

    (+) To control the CPSM (Command Path State Machine) and send 
        commands to the card use the SDMMC_SendCommand(SDMMCx), 
        SDMMC_GetCommandResponse() and SDMMC_GetResponse() functions. First, user has
        to fill the command structure (pointer to SDMMC_CmdInitTypeDef) according 
        to the selected command to be sent.
        The parameters that should be filled are:
         (++) Command Argument
         (++) Command Index
         (++) Command Response type
         (++) Command Wait
         (++) CPSM Status (Enable or Disable).

        -@@- To check if the command is well received, read the SDMMC_CMDRESP
            register using the SDMMC_GetCommandResponse().
            The SDMMC responses registers (SDMMC_RESP1 to SDMMC_RESP2), use the
            SDMMC_GetResponse() function.

    (+) To control the DPSM (Data Path State Machine) and send/receive 
         data to/from the card use the SDMMC_DataConfig(), SDMMC_GetDataCounter(), 
        SDMMC_ReadFIFO(), SDMMC_WriteFIFO() and SDMMC_GetFIFOCount() functions.

  *** Read Operations ***
  =======================
  [..]
    (#) First, user has to fill the data structure (pointer to
        SDMMC_DataInitTypeDef) according to the selected data type to be received.
        The parameters that should be filled are:
         (++) Data TimeOut
         (++) Data Length
         (++) Data Block size
         (++) Data Transfer direction: should be from card (To SDMMC)
         (++) Data Transfer mode
         (++) DPSM Status (Enable or Disable)
                                   
    (#) Configure the SDMMC resources to receive the data from the card
        according to selected transfer mode (Refer to Step 8, 9 and 10).

    (#) Send the selected Read command (refer to step 11).
                  
    (#) Use the SDMMC flags/interrupts to check the transfer status.

  *** Write Operations ***
  ========================
  [..]
   (#) First, user has to fill the data structure (pointer to
       SDMMC_DataInitTypeDef) according to the selected data type to be received.
       The parameters that should be filled are:
        (++) Data TimeOut
        (++) Data Length
        (++) Data Block size
        (++) Data Transfer direction:  should be to card (To CARD)
        (++) Data Transfer mode
        (++) DPSM Status (Enable or Disable)

   (#) Configure the SDMMC resources to send the data to the card according to 
       selected transfer mode.
                   
   (#) Send the selected Write command.
                  
   (#) Use the SDMMC flags/interrupts to check the transfer status.
     
  *** Command management operations ***
  =====================================
  [..]
   (#) The commands used for Read/Write//Erase operations are managed in 
       separate functions. 
       Each function allows to send the needed command with the related argument,
       then check the response.
       By the same approach, you could implement a command and check the response.</pre><dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<h2><center>&copy; COPYRIGHT(c) 2016 STMicroelectronics</center></h2>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p><ol type="1">
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the name of STMicroelectronics nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_397d9aeee4af8edecac90968d93b57df.html">external</a></li><li class="navelem"><a class="el" href="dir_d44dc8085d5faa6a792c35ee8daf1893.html">STM32F7xx_HAL_Drivers</a></li><li class="navelem"><a class="el" href="dir_cc091850d3bc9e9ece6a451bf574e1b1.html">Src</a></li><li class="navelem"><a class="el" href="stm32f7xx__ll__sdmmc_8c.html">stm32f7xx_ll_sdmmc.c</a></li>
    <li class="footer">Generated on Sat Jul 4 2020 13:53:31 for GT RoboCup SSL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
